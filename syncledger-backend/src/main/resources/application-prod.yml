# =============================================================================
# SYNCLEDGER - PRODUCTION PROFILE CONFIGURATION
# by vedvix
# =============================================================================
# This profile is used for production deployment
# All sensitive values MUST come from environment variables
# =============================================================================

spring:
  # PostgreSQL Configuration (from environment)
  datasource:
    url: ${DATABASE_URL}
    username: ${DATABASE_USERNAME}
    password: ${DATABASE_PASSWORD}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 20
      minimum-idle: 10
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000
  
  # Disable H2
  h2:
    console:
      enabled: false
  
  # JPA for PostgreSQL
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
  
  # Flyway enabled with strict validation
  flyway:
    enabled: true
    baseline-on-migrate: false
    validate-on-migrate: true

# Logging - production level
logging:
  level:
    root: WARN
    com.vedvix.syncledger: INFO
    org.springframework.security: WARN
    org.hibernate.SQL: WARN
